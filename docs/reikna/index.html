<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `reikna` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, reikna">

    <title>reikna - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'reikna', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>reikna</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-0' class='srclink' href='../src/reikna/src/lib.rs.html#1-162' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>A fast and lightweight math library</p>

<p><code>reikna</code> contains implementations of various useful
functions, structs, and algorithms from various branches
of mathematics, including number theory, graph theory,
and calculus. The library is designed with speed and
ease of use in mind.</p>

<h1 id='usage' class='section-header'><a href='#usage'>Usage</a></h1>
<p>This library is on <code>crates.io</code>, and can be added to your
project by placing the following into your <code>Cargo.toml</code></p>

<pre><code class="language-text">[dependencies]
reikna = &quot;0.10.0&quot;
</code></pre>

<p>and then importing the crate with</p>

<pre><code class="language-text">#[macro_use] extern crate reikna;
</code></pre>

<p>Make sure to include the #[macro_use] part!</p>

<h1 id='modules' class='section-header'><a href='#modules'>Modules</a></h1>
<p>A list of the modules currently included in this crate, along
with a brief description of each.</p>

<ul>
<li><p><code>aliquot</code> -- Functions for calcuating aliquot sums, divisor sums,
           and testing for perfect numbers and similar concepts.</p></li>
<li><p><code>continued_fraction</code> -- Generate and expand continued fractions.</p></li>
<li><p><code>derivative</code> -- Estimate derivatives of functions, along with slope
              and concavity.</p></li>
<li><p><code>factor</code> -- Compute the GCD, LCM, and prime factorization of numbers.</p></li>
<li><p><code>figurate</code> -- Compute the value of various kinds of figurate numbers.</p></li>
<li><p><code>func</code> -- Utility type alias and macro, used heavily in certain
        other modules.</p></li>
<li><p><code>integral</code> -- Estimate integrals of functions using numeric integration.</p></li>
<li><p><code>partition</code> -- Compute the value of the number theory partition
             function.</p></li>
<li><p><code>prime</code> -- Prime sieves, basic factoring algorithms, and primality
         tests.</p></li>
<li><p><code>prime_count</code> -- Compute the value of the prime-counting function.</p></li>
<li><p><code>totient</code> -- Compute Euler&#39;s Totient Function.</p></li>
</ul>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<h2 id='compute-the-number-of-primes-under-one-million' class='section-header'><a href='#compute-the-number-of-primes-under-one-million'>Compute the number of primes under one million</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>reikna</span>::<span class='ident'>prime</span>::<span class='ident'>prime_sieve</span>;

<span class='kw'>let</span> <span class='ident'>primes</span> <span class='op'>=</span> <span class='ident'>prime_sieve</span>(<span class='number'>1_000_000</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;there are {} primes under one million!&quot;</span>, <span class='ident'>primes</span>.<span class='ident'>len</span>());</pre>

<h2 id='factor-a-large-integer' class='section-header'><a href='#factor-a-large-integer'>Factor a large integer</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>reikna</span>::<span class='ident'>factor</span>::<span class='ident'>quick_factorize</span>;

<span class='kw'>let</span> <span class='ident'>my_number</span> <span class='op'>=</span> <span class='number'>15_814_272_409_530_912_054</span>;
<span class='kw'>let</span> <span class='ident'>factors</span> <span class='op'>=</span> <span class='ident'>quick_factorize</span>(<span class='ident'>my_number</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;The prime factorization of {} is:&quot;</span>, <span class='ident'>my_number</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>factors</span>);
}</pre>

<p>Outputs:</p>

<pre><code class="language-text">The prime factorization of 15814272409530912054 is:
[2, 3, 3, 23, 23, 61, 10007, 2720741641]
</code></pre>

<h2 id='relationship-between-the-last-digits-of-prime-numbers' class='section-header'><a href='#relationship-between-the-last-digits-of-prime-numbers'>Relationship between the last digits of prime numbers</a></h2>
<p>Primes are considered to be pseudo-random, yet there exists
a relationship between the last digit of a prime number and the
last digit of the next prime number. For example, a prime ending
in <code>1</code> has only a 16% chance of being followed by another prime
that ends in one, at least in the range [1, 1,000,000].</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>reikna</span>;

<span class='kw'>use</span> <span class='ident'>reikna</span>::<span class='ident'>prime</span>::<span class='ident'>prime_sieve</span>;

<span class='kw'>pub</span> <span class='kw'>fn</span> <span class='ident'>main</span>() {

    <span class='comment'>// generate primes less than one million, removing</span>
    <span class='comment'>// the single digit ones.</span>
    <span class='kw'>let</span> <span class='ident'>primes</span> <span class='op'>=</span> <span class='kw-2'>&amp;</span><span class='ident'>prime_sieve</span>(<span class='number'>1_000_000</span>)[<span class='number'>4</span>..];


    <span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>data</span> <span class='op'>=</span> [[<span class='number'>0u64</span>; <span class='number'>10</span>]; <span class='number'>10</span>]; <span class='comment'>// 10x10 array to store the data</span>

    <span class='comment'>// loop through the primes and count digit frequency</span>
    <span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>old_last_digit</span> <span class='op'>=</span> <span class='ident'>primes</span>[<span class='number'>0</span>] <span class='op'>%</span> <span class='number'>10</span>;
    <span class='kw'>for</span> <span class='ident'>i</span> <span class='kw'>in</span> <span class='number'>1</span>..<span class='ident'>primes</span>.<span class='ident'>len</span>() {
        <span class='kw'>let</span> <span class='ident'>last_digit</span> <span class='op'>=</span> <span class='ident'>primes</span>[<span class='ident'>i</span>] <span class='op'>%</span> <span class='number'>10</span>;
        <span class='ident'>data</span>[<span class='ident'>old_last_digit</span> <span class='kw'>as</span> <span class='ident'>usize</span>][<span class='ident'>last_digit</span> <span class='kw'>as</span> <span class='ident'>usize</span>] <span class='op'>+=</span> <span class='number'>1</span>;
        <span class='ident'>old_last_digit</span> <span class='op'>=</span> <span class='ident'>last_digit</span>;
    }

    <span class='comment'>// store the totals into the 0&#39;s column, since it&#39;s not</span>
    <span class='comment'>// being used for anything</span>
    <span class='kw'>for</span> <span class='ident'>i</span> <span class='kw'>in</span> <span class='number'>1</span>..<span class='number'>10</span> {
        <span class='ident'>data</span>[<span class='number'>0</span>][<span class='ident'>i</span>] <span class='op'>=</span> <span class='ident'>data</span>[<span class='ident'>i</span>].<span class='ident'>iter</span>().<span class='ident'>fold</span>(<span class='number'>0</span>, <span class='op'>|</span><span class='ident'>acc</span>, <span class='ident'>x</span><span class='op'>|</span> <span class='ident'>acc</span> <span class='op'>+</span> <span class='ident'>x</span>);
    }

    <span class='comment'>// print out the data</span>
    <span class='kw'>for</span> <span class='ident'>i</span> <span class='kw'>in</span> <span class='macro'>vec</span><span class='macro'>!</span>[<span class='number'>1</span>, <span class='number'>3</span>, <span class='number'>7</span>, <span class='number'>9</span>] {
        <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;primes ending in &#39;{}&#39;:&quot;</span>, <span class='ident'>i</span>);
        <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot; * total -- {}&quot;</span>, <span class='ident'>data</span>[<span class='number'>0</span>][<span class='ident'>i</span>]);

        <span class='kw'>for</span> <span class='ident'>k</span> <span class='kw'>in</span> <span class='macro'>vec</span><span class='macro'>!</span>[<span class='number'>1</span>, <span class='number'>3</span>, <span class='number'>7</span>, <span class='number'>9</span>] {
            <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot; * % next prime ending in &#39;{}&#39; -- {}%&quot;</span>,
                     <span class='ident'>k</span>, <span class='ident'>data</span>[<span class='ident'>i</span>][<span class='ident'>k</span>] <span class='kw'>as</span> <span class='ident'>f64</span> <span class='op'>/</span> <span class='ident'>data</span>[<span class='number'>0</span>][<span class='ident'>i</span>] <span class='kw'>as</span> <span class='ident'>f64</span> <span class='op'>*</span> <span class='number'>100.0</span>);
        }

        <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;&quot;</span>);
    }
}</pre>

<p>By changing the max value, it can be observed that the bias
shrinks as the max grows.</p>
</div><h2 id='modules-1' class='section-header'><a href="#modules-1">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='mod' href='aliquot/index.html'
                                  title='reikna::aliquot'>aliquot</a></td>
                           <td class='docblock short'>
                                <p>Module for working with aliquot and divisor sums.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='continued_fraction/index.html'
                                  title='reikna::continued_fraction'>continued_fraction</a></td>
                           <td class='docblock short'>
                                <p>Module for working with continued fractions.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='derivative/index.html'
                                  title='reikna::derivative'>derivative</a></td>
                           <td class='docblock short'>
                                <p>Module for working with derivatives.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='factor/index.html'
                                  title='reikna::factor'>factor</a></td>
                           <td class='docblock short'>
                                <p>Module for working with integer factorization.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='figurate/index.html'
                                  title='reikna::figurate'>figurate</a></td>
                           <td class='docblock short'>
                                <p>Module for generating various kinds of figurate numbers.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='func/index.html'
                                  title='reikna::func'>func</a></td>
                           <td class='docblock short'>
                                <p>Module for working with <code>Function</code>s</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='integral/index.html'
                                  title='reikna::integral'>integral</a></td>
                           <td class='docblock short'>
                                <p>Module for working with integrals.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='partition/index.html'
                                  title='reikna::partition'>partition</a></td>
                           <td class='docblock short'>
                                <p>Module for working with the number theory partition function.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='prime/index.html'
                                  title='reikna::prime'>prime</a></td>
                           <td class='docblock short'>
                                <p>Module for working with prime numbers.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='prime_count/index.html'
                                  title='reikna::prime_count'>prime_count</a></td>
                           <td class='docblock short'>
                                <p>Module for working with the prime-counting function.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='totient/index.html'
                                  title='reikna::totient'>totient</a></td>
                           <td class='docblock short'>
                                <p>Module for working with Euler&#39;s totient function.</p>
                           </td>
                       </tr></table><h2 id='macros' class='section-header'><a href="#macros">Macros</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='macro' href='macro.func!.html'
                                  title='reikna::func!'>func!</a></td>
                           <td class='docblock short'>
                                <p>Macro for creating a <code>Function</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='macro' href='macro.segmented_sieve!.html'
                                  title='reikna::segmented_sieve!'>segmented_sieve!</a></td>
                           <td class='docblock short'>
                                <p>Macro representing the body of a segmented Sieve
of Eratosthenes.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "reikna";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>